/* frontend/styles.css — シンプル＆見やすいUI */
:root{
  --bg:#f5f7fb; --card:#ffffff;
  --me:#c7f3cc; --bot:#ffffff;
  --text:#1f2937; --muted:#6b7280;
  --primary:#2563eb; --ring:#93c5fd;
  --shadow:0 1px 3px rgba(0,0,0,.08);
  --radius:16px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; background:var(--bg); color:var(--text);
  font:16px/1.6 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Hiragino Sans","Noto Sans JP","Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji",sans-serif;
}

.app-header{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; background:#fff; box-shadow:var(--shadow);
}
.app-header h1{ margin:0; font-size:18px; }
.toolbar{ display:flex; gap:8px; align-items:center; justify-content:flex-start;}
.aff-badge{
  display:inline-block; padding:4px 10px; border-radius:999px;
  background:#ffe5ec; color:#bf125d; font-weight:600;
}

.chat-scroll{
  max-width:860px; margin:16px auto; padding:0 12px;
}
.chat-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:12px; }

.msg .line{
  display:grid; grid-template-columns:auto 1fr auto; gap:8px; align-items:end;
}
.msg.me  { justify-content:flex-end; }
.msg.bot { justify-content:flex-start; }

.avatar{
  width:48px; height:48px; border-radius:50%;
  background-image:var(--icon); background-size:cover; background-position:center;
  box-shadow:var(--shadow);
}
.avatar.left{ grid-column:1; }
.avatar.right{ grid-column:3; }

.bubble{
  grid-column:2; max-width:72ch; padding:12px 14px; border-radius:var(--radius);
  background:var(--bot); box-shadow:var(--shadow); word-wrap:break-word;
}
.msg.me .bubble{ background:var(--me); }
.content{ white-space:pre-wrap; }

.actions{
  display:flex; gap:8px; margin:4px 44px 0; /* アバター分オフセット */
}
.msg.me .actions{ justify-content:flex-end; margin-right:0; margin-left:44px; }

.btn-ghost{
  border:none; background:transparent; color:var(--muted);
  padding:4px 6px; border-radius:8px; cursor:pointer;
}
.btn-ghost:hover{ background:#eef2ff; color:#111827; }

.composer{
  position:sticky; bottom:0; background:#fff; box-shadow:0 -1px 0 rgba(0,0,0,.05);
  padding:10px 12px;
}
#chatForm{ display:flex; gap:8px; max-width:860px; margin:0 auto; }
#inputText{
  flex:1; min-height:42px; resize:vertical; padding:10px 12px;
  border:1px solid #e5e7eb; border-radius:10px; outline:none;
}
#inputText:focus{ box-shadow:0 0 0 3px var(--ring); border-color:transparent; }
#sendBtn{
  padding:0 14px; border:none; border-radius:10px; background:var(--primary); color:#fff; font-weight:600; cursor:pointer;
}
#sendBtn:disabled{ opacity:.6; cursor:not-allowed; }
.bubble { position: relative; border-radius: 12px; padding: 12px; }
.bubble-actions {
  position: absolute;
  top: 4px;
  right: 6px;
  display: flex;
  gap: 6px;
  opacity: .7;
}
.bubble:hover .bubble-actions { opacity: 1; }
.bubble-actions button {
  font: inherit;
  padding: 2px 6px;
  border-radius: 6px;
  border: 1px solid #ccc;
  background: #fff;
  cursor: pointer;
}
.bubble-actions button:hover { background: #f0f0f0; }

.msg.user .bubble { background: #e6f7e7; }
.msg.assistant .bubble { background: #f6f7fb; }
.meta { color:#666; font-size:.8rem; margin:4px 8px; display:flex; gap:8px; }
